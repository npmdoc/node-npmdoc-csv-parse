<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://csv.adaltas.com/parse/"

    >csv-parse (v1.2.0)</a>
</h1>
<h4>CSV parsing implementing the Node.js `stream.Transform` API</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv-parse">module csv-parse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser">
            function <span class="apidocSignatureSpan">csv-parse.</span>Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csv-parse.</span>Parser.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv-parse.Parser">module csv-parse.Parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser.Parser">
            function <span class="apidocSignatureSpan">csv-parse.</span>Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser.super_">
            function <span class="apidocSignatureSpan">csv-parse.Parser.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv-parse.Parser.prototype">module csv-parse.Parser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser.prototype.__push">
            function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>__push
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser.prototype.__write">
            function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>__write
            <span class="apidocSignatureSpan">(chars, end)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser.prototype._flush">
            function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>_flush
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv-parse.Parser.prototype._transform">
            function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>_transform
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv-parse" id="apidoc.module.csv-parse">module csv-parse</a></h1>


    <h2>
        <a href="#apidoc.element.csv-parse.Parser" id="apidoc.element.csv-parse.Parser">
        function <span class="apidocSignatureSpan">csv-parse.</span>Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parser = function (options) {
  var base, base1, base10, base11, base12, base13, base14, base15, base16, base2, base3, base4, base5, base6, base7, base8, base9
, k, v;
  if (options == null) {
    options = {};
  }
  options.objectMode = true;
  this.options = {};
  for (k in options) {
    v = options[k];
    this.options[k] = v;
  }
  stream.Transform.call(this, this.options);
  if ((base = this.options).rowDelimiter == null) {
    base.rowDelimiter = null;
  }
  if (typeof this.options.rowDelimiter === &#x27;string&#x27;) {
    this.options.rowDelimiter = [this.options.rowDelimiter];
  }
  if ((base1 = this.options).delimiter == null) {
    base1.delimiter = &#x27;,&#x27;;
  }
  if ((base2 = this.options).quote == null) {
    base2.quote = &#x27;&#x22;&#x27;;
  }
  if ((base3 = this.options).escape == null) {
    base3.escape = &#x27;&#x22;&#x27;;
  }
  if ((base4 = this.options).columns == null) {
    base4.columns = null;
  }
  if ((base5 = this.options).comment == null) {
    base5.comment = &#x27;&#x27;;
  }
  if ((base6 = this.options).objname == null) {
    base6.objname = false;
  }
  if ((base7 = this.options).trim == null) {
    base7.trim = false;
  }
  if ((base8 = this.options).ltrim == null) {
    base8.ltrim = false;
  }
  if ((base9 = this.options).rtrim == null) {
    base9.rtrim = false;
  }
  if ((base10 = this.options).auto_parse == null) {
    base10.auto_parse = false;
  }
  if ((base11 = this.options).auto_parse_date == null) {
    base11.auto_parse_date = false;
  }
  if ((base12 = this.options).relax == null) {
    base12.relax = false;
  }
  if ((base13 = this.options).relax_column_count == null) {
    base13.relax_column_count = false;
  }
  if ((base14 = this.options).skip_empty_lines == null) {
    base14.skip_empty_lines = false;
  }
  if ((base15 = this.options).max_limit_on_data_read == null) {
    base15.max_limit_on_data_read = 128000;
  }
  if ((base16 = this.options).skip_lines_with_empty_values == null) {
    base16.skip_lines_with_empty_values = false;
  }
  this.lines = 0;
  this.count = 0;
  this.skipped_line_count = 0;
  this.empty_line_count = 0;
  this.is_int = /^(\-|\+)?([1-9]+[0-9]*)$/;
  this.is_float = function(value) {
    return (value - parseFloat(value) + 1) &#x3e;= 0;
  };
  this._ = {};
  this._.decoder = new StringDecoder();
  this._.quoting = false;
  this._.commenting = false;
  this._.field = null;
  this._.nextChar = null;
  this._.closingQuote = 0;
  this._.line = [];
  this._.chunks = [];
  this._.rawBuf = &#x27;&#x27;;
  this._.buf = &#x27;&#x27;;
  if (this.options.rowDelimiter) {
    this._.rowDelimiterLength = Math.max.apply(Math, this.options.rowDelimiter.map(function(v) {
      return v.length;
    }));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  options = {};
}
records = options.objname ? {} : [];
if (data instanceof Buffer) {
  decoder = new StringDecoder();
  data = decoder.write(data);
}
parser = new parse.<span class="apidocCodeKeywordSpan">Parser</span>(options);
parser.push = function(record) {
  if (options.objname) {
    return records[record[0]] = record[1];
  } else {
    return records.push(record);
  }
};
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv-parse.Parser" id="apidoc.module.csv-parse.Parser">module csv-parse.Parser</a></h1>


    <h2>
        <a href="#apidoc.element.csv-parse.Parser.Parser" id="apidoc.element.csv-parse.Parser.Parser">
        function <span class="apidocSignatureSpan">csv-parse.</span>Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parser = function (options) {
  var base, base1, base10, base11, base12, base13, base14, base15, base16, base2, base3, base4, base5, base6, base7, base8, base9
, k, v;
  if (options == null) {
    options = {};
  }
  options.objectMode = true;
  this.options = {};
  for (k in options) {
    v = options[k];
    this.options[k] = v;
  }
  stream.Transform.call(this, this.options);
  if ((base = this.options).rowDelimiter == null) {
    base.rowDelimiter = null;
  }
  if (typeof this.options.rowDelimiter === &#x27;string&#x27;) {
    this.options.rowDelimiter = [this.options.rowDelimiter];
  }
  if ((base1 = this.options).delimiter == null) {
    base1.delimiter = &#x27;,&#x27;;
  }
  if ((base2 = this.options).quote == null) {
    base2.quote = &#x27;&#x22;&#x27;;
  }
  if ((base3 = this.options).escape == null) {
    base3.escape = &#x27;&#x22;&#x27;;
  }
  if ((base4 = this.options).columns == null) {
    base4.columns = null;
  }
  if ((base5 = this.options).comment == null) {
    base5.comment = &#x27;&#x27;;
  }
  if ((base6 = this.options).objname == null) {
    base6.objname = false;
  }
  if ((base7 = this.options).trim == null) {
    base7.trim = false;
  }
  if ((base8 = this.options).ltrim == null) {
    base8.ltrim = false;
  }
  if ((base9 = this.options).rtrim == null) {
    base9.rtrim = false;
  }
  if ((base10 = this.options).auto_parse == null) {
    base10.auto_parse = false;
  }
  if ((base11 = this.options).auto_parse_date == null) {
    base11.auto_parse_date = false;
  }
  if ((base12 = this.options).relax == null) {
    base12.relax = false;
  }
  if ((base13 = this.options).relax_column_count == null) {
    base13.relax_column_count = false;
  }
  if ((base14 = this.options).skip_empty_lines == null) {
    base14.skip_empty_lines = false;
  }
  if ((base15 = this.options).max_limit_on_data_read == null) {
    base15.max_limit_on_data_read = 128000;
  }
  if ((base16 = this.options).skip_lines_with_empty_values == null) {
    base16.skip_lines_with_empty_values = false;
  }
  this.lines = 0;
  this.count = 0;
  this.skipped_line_count = 0;
  this.empty_line_count = 0;
  this.is_int = /^(\-|\+)?([1-9]+[0-9]*)$/;
  this.is_float = function(value) {
    return (value - parseFloat(value) + 1) &#x3e;= 0;
  };
  this._ = {};
  this._.decoder = new StringDecoder();
  this._.quoting = false;
  this._.commenting = false;
  this._.field = null;
  this._.nextChar = null;
  this._.closingQuote = 0;
  this._.line = [];
  this._.chunks = [];
  this._.rawBuf = &#x27;&#x27;;
  this._.buf = &#x27;&#x27;;
  if (this.options.rowDelimiter) {
    this._.rowDelimiterLength = Math.max.apply(Math, this.options.rowDelimiter.map(function(v) {
      return v.length;
    }));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  options = {};
}
records = options.objname ? {} : [];
if (data instanceof Buffer) {
  decoder = new StringDecoder();
  data = decoder.write(data);
}
parser = new parse.<span class="apidocCodeKeywordSpan">Parser</span>(options);
parser.push = function(record) {
  if (options.objname) {
    return records[record[0]] = record[1];
  } else {
    return records.push(record);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv-parse.Parser.super_" id="apidoc.element.csv-parse.Parser.super_">
        function <span class="apidocSignatureSpan">csv-parse.Parser.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === &#x27;function&#x27;)
      this._transform = options.transform;

    if (typeof options.flush === &#x27;function&#x27;)
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once(&#x27;prefinish&#x27;, function() {
    if (typeof this._flush === &#x27;function&#x27;)
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv-parse.Parser.prototype" id="apidoc.module.csv-parse.Parser.prototype">module csv-parse.Parser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.csv-parse.Parser.prototype.__push" id="apidoc.element.csv-parse.Parser.prototype.__push">
        function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>__push
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__push = function (line) {
  var field, i, j, len, lineAsColumns, rawBuf, row;
  if (this.options.skip_lines_with_empty_values &#x26;&#x26; line.join(&#x27;&#x27;).trim() === &#x27;&#x27;) {
    return;
  }
  row = null;
  if (this.options.columns === true) {
    this.options.columns = line;
    rawBuf = &#x27;&#x27;;
    return;
  } else if (typeof this.options.columns === &#x27;function&#x27;) {
    this.options.columns = this.options.columns(line);
    rawBuf = &#x27;&#x27;;
    return;
  }
  if (!this._.line_length &#x26;&#x26; line.length &#x3e; 0) {
    this._.line_length = this.options.columns ? this.options.columns.length : line.length;
  }
  if (line.length === 1 &#x26;&#x26; line[0] === &#x27;&#x27;) {
    this.empty_line_count++;
  } else if (line.length !== this._.line_length) {
    if (this.options.relax_column_count) {
      this.skipped_line_count++;
    } else if (this.options.columns != null) {
      throw Error(&#x22;Number of columns on line &#x22; + this.lines + &#x22; does not match header&#x22;);
    } else {
      throw Error(&#x22;Number of columns is inconsistent on line &#x22; + this.lines);
    }
  } else {
    this.count++;
  }
  if (this.options.columns != null) {
    lineAsColumns = {};
    for (i = j = 0, len = line.length; j &#x3c; len; i = ++j) {
      field = line[i];
      if (this.options.columns[i] === false) {
        continue;
      }
      lineAsColumns[this.options.columns[i]] = field;
    }
    if (this.options.objname) {
      row = [lineAsColumns[this.options.objname], lineAsColumns];
    } else {
      row = lineAsColumns;
    }
  } else {
    row = line;
  }
  if (this.count &#x3c; this.options.from) {
    return;
  }
  if (this.count &#x3e; this.options.to) {
    return;
  }
  if (this.options.raw) {
    this.push({
      raw: this._.rawBuf,
      row: row
    });
    return this._.rawBuf = &#x27;&#x27;;
  } else {
    return this.push(row);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv-parse.Parser.prototype.__write" id="apidoc.element.csv-parse.Parser.prototype.__write">
        function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>__write
        <span class="apidocSignatureSpan">(chars, end)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__write = function (chars, end) {
  var areNextCharsDelimiter, areNextCharsRowDelimiters, auto_parse, char, escapeIsQuote, i, isDelimiter, isEscape, isNextCharAComment
, isQuote, isRowDelimiter, isRowDelimiterLength, is_float, is_int, l, ltrim, nextCharPos, ref, ref1, ref2, ref3, ref4, remainingBuffer
, results, rowDelimiter, rtrim, wasCommenting;
  is_int = (function(_this) {
    return function(value) {
      if (typeof _this.is_int === &#x27;function&#x27;) {
        return _this.is_int(value);
      } else {
        return _this.is_int.test(value);
      }
    };
  })(this);
  is_float = (function(_this) {
    return function(value) {
      if (typeof _this.is_float === &#x27;function&#x27;) {
        return _this.is_float(value);
      } else {
        return _this.is_float.test(value);
      }
    };
  })(this);
  auto_parse = (function(_this) {
    return function(value) {
      var m;
      if (!_this.options.auto_parse) {
        return value;
      }
      if (is_int(value)) {
        value = parseInt(value);
      } else if (is_float(value)) {
        value = parseFloat(value);
      } else if (_this.options.auto_parse_date) {
        m = Date.parse(value);
        if (!isNaN(m)) {
          value = new Date(m);
        }
      }
      return value;
    };
  })(this);
  ltrim = this.options.trim || this.options.ltrim;
  rtrim = this.options.trim || this.options.rtrim;
  chars = this._.buf + chars;
  l = chars.length;
  i = 0;
  if (this.lines === 0 &#x26;&#x26; 0xFEFF === chars.charCodeAt(0)) {
    i++;
  }
  while (i &#x3c; l) {
    if (!end) {
      remainingBuffer = chars.substr(i, l - i);
      if ((!this.options.rowDelimiter &#x26;&#x26; i + 3 &#x3e; l) || (!this._.commenting &#x26;&#x26; l - i &#x3c; this.options.comment.length &#x26;&#x26; this.options
.comment.substr(0, l - i) === remainingBuffer) || (this.options.rowDelimiter &#x26;&#x26; l - i &#x3c; this._.rowDelimiterLength &#x26;&#x26; this.options
.rowDelimiter.some(function(rd) {
        return rd.substr(0, l - i) === remainingBuffer;
      })) || (this.options.rowDelimiter &#x26;&#x26; this._.quoting &#x26;&#x26; l - i &#x3c; (this.options.quote.length + this._.rowDelimiterLength) &#x26;&#x26;
this.options.rowDelimiter.some((function(_this) {
        return function(rd) {
          return (_this.options.quote + rd).substr(0, l - i) === remainingBuffer;
        };
      })(this))) || (l - i &#x3c;= this.options.delimiter.length &#x26;&#x26; this.options.delimiter.substr(0, l - i) === remainingBuffer) || (
l - i &#x3c;= this.options.escape.length &#x26;&#x26; this.options.escape.substr(0, l - i) === remainingBuffer)) {
        break;
      }
    }
    char = this._.nextChar ? this._.nextChar : chars.charAt(i);
    this._.nextChar = l &#x3e; i + 1 ? chars.charAt(i + 1) : &#x27;&#x27;;
    if (this.options.raw) {
      this._.rawBuf += char;
    }
    if (this.options.rowDelimiter == null) {
      nextCharPos = i;
      rowDelimiter = null;
      if (!this._.quoting &#x26;&#x26; (char === &#x27;\n&#x27; || char === &#x27;\r&#x27;)) {
        rowDelimiter = char;
        nextCharPos += 1;
      } else if (!(!this._.quoting &#x26;&#x26; char === this.options.quote) &#x26;&#x26; (this._.nextChar === &#x27;\n&#x27; || this._.nextChar === &#x27;\r&#x27;)) {
        rowDelimiter = this._.nextChar;
        nextCharPos += 2;
        if (this.raw) {
          rawBuf += this._.nextChar;
        }
      }
      if (rowDelimiter) {
        if (rowDelimiter === &#x27;\r&#x27; &#x26;&#x26; chars.charAt(nextCharPos) === &#x27;\n&#x27;) {
          rowDelimiter += &#x27;\n&#x27;;
        }
        this.options.rowDelimiter = [rowDelimiter];
        this._.rowDelimiterLength = rowDelimiter.length;
      }
    }
    if (!this._.commenting &#x26;&#x26; char === this.options.escape) {
      escapeIsQuote = this.options.escape === this.options.quote;
      isEscape = this._.nextChar === this.options.escape;
      isQuote = this._.nextChar === this.options.quote;
      if (!(escapeIsQuote &#x26;&#x26; (this._.field == null) &#x26;&#x26; !this._.quoting) &#x26;&#x26; (isEscape || isQuote)) {
        i++;
        char = this._.nextChar;
        this._.nextChar = chars.charAt(i + 1);
        if (this._.field == null) {
          this._.field = &#x27;&#x27;;
        }
        this._.field += char;
        if (this.options.raw) {
          this._.rawBuf += char;
        }
        i++;
        continue;
      }
    } ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  parser.push = function(record) {
    if (options.objname) {
      return records[record[0]] = record[1];
    } else {
      return records.push(record);
    }
  };
  parser.<span class="apidocCodeKeywordSpan">__write</span>(data, false);
  if (data instanceof Buffer) {
    parser.__write(data.end(), true);
  }
  parser._flush((function() {}));
  return records;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv-parse.Parser.prototype._flush" id="apidoc.element.csv-parse.Parser.prototype._flush">
        function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>_flush
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function (callback) {
  var err, error;
  try {
    this.__write(this._.decoder.end(), true);
    if (this._.quoting) {
      this.emit(&#x27;error&#x27;, new Error(&#x22;Quoted field not terminated at line &#x22; + (this.lines + 1)));
      return;
    }
    if (this._.line.length &#x3e; 0) {
      this.__push(this._.line);
    }
    return callback();
  } catch (error) {
    err = error;
    return this.emit(&#x27;error&#x27;, err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return records.push(record);
    }
  };
  parser.__write(data, false);
  if (data instanceof Buffer) {
    parser.__write(data.end(), true);
  }
  parser.<span class="apidocCodeKeywordSpan">_flush</span>((function() {}));
  return records;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv-parse.Parser.prototype._transform" id="apidoc.element.csv-parse.Parser.prototype._transform">
        function <span class="apidocSignatureSpan">csv-parse.Parser.prototype.</span>_transform
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (chunk, encoding, callback) {
  var err, error;
  if (chunk instanceof Buffer) {
    chunk = this._.decoder.write(chunk);
  }
  try {
    this.__write(chunk, false);
    return callback();
  } catch (error) {
    err = error;
    return this.emit(&#x27;error&#x27;, err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
